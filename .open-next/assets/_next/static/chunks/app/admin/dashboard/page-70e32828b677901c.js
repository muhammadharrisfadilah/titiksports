(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{1370:(e,s,a)=>{Promise.resolve().then(a.bind(a,3372))},3372:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var t=a(5155),l=a(2115),n=a(63),r=a(2619),i=a.n(r),c=a(6347);let d="https://pezznpqnkqvvhlwonvho.supabase.co",m="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBlenpucHFua3F2dmhsd29udmhvIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MzMxMDU3MCwiZXhwIjoyMDc4ODg2NTcwfQ.C8II4HbtSegcTqmq0CahBYZII-TZulOnSlsxb6ZX6_M",o=null;async function x(){if(!o)return console.warn("Supabase not configured"),[];try{let{data:e,error:s}=await o.from("matches").select("*").order("match_date",{ascending:!0}).order("match_time",{ascending:!0});if(s)return console.error("Error fetching matches:",s),[];return e||[]}catch(e){return console.error("Error:",e),[]}}async function h(e){if(!o)return{success:!1,error:"Supabase not configured"};try{let{data:s,error:a}=await o.from("matches").insert([e]).select().single();if(a)return{success:!1,error:a.message};return{success:!0,data:s}}catch(e){return{success:!1,error:e.message}}}async function u(e,s){if(!o)return{success:!1,error:"Supabase not configured"};try{let{data:a,error:t}=await o.from("matches").update(s).eq("id",e).select().single();if(t)return{success:!1,error:t.message};return{success:!0,data:a}}catch(e){return{success:!1,error:e.message}}}async function b(e){if(!o)return{success:!1,error:"Supabase not configured"};try{let{error:s}=await o.from("matches").delete().eq("id",e);if(s)return{success:!1,error:s.message};return{success:!0}}catch(e){return{success:!1,error:e.message}}}function p(e){let{match:s,onClose:a}=e,n=!!s,[r,i]=(0,l.useState)({home_team:(null==s?void 0:s.home_team)||"",home_flag:(null==s?void 0:s.home_flag)||"⚽",away_team:(null==s?void 0:s.away_team)||"",away_flag:(null==s?void 0:s.away_flag)||"⚽",competition:(null==s?void 0:s.competition)||"",match_date:(null==s?void 0:s.match_date)||new Date().toISOString().split("T")[0],match_time:(null==s?void 0:s.match_time)||"19:00 WIB",thumbnail_url:(null==s?void 0:s.thumbnail_url)||"",status:(null==s?void 0:s.status)||"upcoming",home_score:(null==s?void 0:s.home_score)||0,away_score:(null==s?void 0:s.away_score)||0,stream_url1:(null==s?void 0:s.stream_url1)||"",referer1:(null==s?void 0:s.referer1)||"",origin1:(null==s?void 0:s.origin1)||"",stream_url2:(null==s?void 0:s.stream_url2)||"",referer2:(null==s?void 0:s.referer2)||"",origin2:(null==s?void 0:s.origin2)||"",stream_url3:(null==s?void 0:s.stream_url3)||"",referer3:(null==s?void 0:s.referer3)||"",origin3:(null==s?void 0:s.origin3)||""}),[c,d]=(0,l.useState)(!1),[m,o]=(0,l.useState)(""),x=e=>{let{name:s,value:a}=e.target;i(e=>({...e,[s]:a}))},b=async e=>{e.preventDefault(),d(!0),o("");try{let e=n?await u(s.id,r):await h(r);e.success?(alert(n?"Pertandingan berhasil diupdate!":"Pertandingan berhasil ditambahkan!"),a(!0)):o(e.error||"Gagal menyimpan data")}catch(e){o(e.message||"Terjadi kesalahan")}finally{d(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-netflix-darkGray rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-white/10",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-netflix-darkGray border-b border-white/10 p-6 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:n?"Edit Pertandingan":"Tambah Pertandingan"}),(0,t.jsx)("button",{onClick:()=>a(!1),className:"text-3xl hover:text-netflix-red transition-colors",children:"\xd7"})]}),(0,t.jsxs)("form",{onSubmit:b,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Tim Kandang *"}),(0,t.jsx)("input",{type:"text",name:"home_team",value:r.home_team,onChange:x,className:"input",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Flag Kandang"}),(0,t.jsx)("input",{type:"text",name:"home_flag",value:r.home_flag,onChange:x,className:"input",maxLength:10})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Tim Tandang *"}),(0,t.jsx)("input",{type:"text",name:"away_team",value:r.away_team,onChange:x,className:"input",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Flag Tandang"}),(0,t.jsx)("input",{type:"text",name:"away_flag",value:r.away_flag,onChange:x,className:"input",maxLength:10})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Kompetisi *"}),(0,t.jsx)("input",{type:"text",name:"competition",value:r.competition,onChange:x,className:"input",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Tanggal *"}),(0,t.jsx)("input",{type:"date",name:"match_date",value:r.match_date,onChange:x,className:"input",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Waktu *"}),(0,t.jsx)("input",{type:"text",name:"match_time",value:r.match_time,onChange:x,className:"input",placeholder:"19:00 WIB",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Thumbnail URL"}),(0,t.jsx)("input",{type:"url",name:"thumbnail_url",value:r.thumbnail_url,onChange:x,className:"input",placeholder:"https://example.com/image.jpg"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Status *"}),(0,t.jsxs)("select",{name:"status",value:r.status,onChange:x,className:"input",children:[(0,t.jsx)("option",{value:"upcoming",children:"Upcoming"}),(0,t.jsx)("option",{value:"live",children:"Live"}),(0,t.jsx)("option",{value:"ended",children:"Ended"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Skor (Home - Away)"}),(0,t.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,t.jsx)("input",{type:"number",name:"home_score",value:r.home_score,onChange:x,className:"input w-20",min:"0",max:"99"}),(0,t.jsx)("span",{children:"-"}),(0,t.jsx)("input",{type:"number",name:"away_score",value:r.away_score,onChange:x,className:"input w-20",min:"0",max:"99"})]})]})]}),[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("h3",{className:"font-bold text-lg text-netflix-red",children:["Stream Link ",e," ",3===e?"(DASH)":"(HLS)"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Stream URL"}),(0,t.jsx)("input",{type:"url",name:"stream_url".concat(e),value:r["stream_url".concat(e)],onChange:x,className:"input",placeholder:"https://example.com/stream.".concat(3===e?"mpd":"m3u8")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Referer"}),(0,t.jsx)("input",{type:"text",name:"referer".concat(e),value:r["referer".concat(e)],onChange:x,className:"input",placeholder:"https://example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Origin"}),(0,t.jsx)("input",{type:"text",name:"origin".concat(e),value:r["origin".concat(e)],onChange:x,className:"input",placeholder:"https://example.com"})]})]})]},e)),m&&(0,t.jsx)("div",{className:"bg-netflix-red/20 border border-netflix-red rounded-lg p-3 text-sm text-red-300",children:m}),(0,t.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t border-white/10",children:[(0,t.jsx)("button",{type:"button",onClick:()=>a(!1),className:"btn btn-secondary",disabled:c,children:"Batal"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Simpan"})]})]})]})})}function g(){let e=(0,n.useRouter)(),[s,a]=(0,l.useState)([]),[r,c]=(0,l.useState)(!0),[d,m]=(0,l.useState)(!1),[o,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(!localStorage.getItem("adminToken"))return void e.push("/admin/login");u()},[e]);let u=async()=>{c(!0),a(await x()),c(!1)},g=async e=>{if(!confirm("Yakin ingin menghapus pertandingan ini?"))return;let s=await b(e);s.success?(alert("Pertandingan berhasil dihapus!"),u()):alert("Gagal menghapus: "+s.error)};return r?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-netflix-black",children:(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-white/20 border-t-netflix-red rounded-full animate-spin"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-netflix-black",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-netflix-black/95 backdrop-blur-sm border-b border-white/10",children:(0,t.jsxs)("div",{className:"container-custom py-4 flex justify-between items-center",children:[(0,t.jsx)(i(),{href:"/",className:"text-2xl font-bold text-gradient-red",children:"⚽ TitikBola Admin"}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("adminToken"),e.push("/admin/login")},className:"btn btn-secondary text-sm",children:"Logout"})]})}),(0,t.jsxs)("div",{className:"container-custom py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"card p-6",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCCA"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:s.length}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Total Matches"})]}),(0,t.jsxs)("div",{className:"card p-6",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDD34"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:s.filter(e=>"live"===e.status).length}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Live Now"})]}),(0,t.jsxs)("div",{className:"card p-6",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDD52"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:s.filter(e=>"upcoming"===e.status).length}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Upcoming"})]}),(0,t.jsxs)("div",{className:"card p-6",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"⚫"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:s.filter(e=>"ended"===e.status).length}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Ended"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Manage Matches"}),(0,t.jsx)("button",{onClick:()=>m(!0),className:"btn btn-primary",children:"+ Add Match"})]}),0===s.length?(0,t.jsxs)("div",{className:"card p-12 text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"⚽"}),(0,t.jsx)("p",{className:"text-gray-400 text-lg mb-4",children:"Belum ada pertandingan"}),(0,t.jsx)("button",{onClick:()=>m(!0),className:"btn btn-primary",children:"Tambah Pertandingan Pertama"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-white/10",children:[(0,t.jsx)("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Match"}),(0,t.jsx)("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Competition"}),(0,t.jsx)("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Date & Time"}),(0,t.jsx)("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-4 text-sm font-semibold text-gray-400",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:s.map(e=>(0,t.jsxs)("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{children:e.home_flag}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-semibold",children:[e.home_team," vs ",e.away_team]}),(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:[e.home_score," - ",e.away_score]})]})]})}),(0,t.jsx)("td",{className:"p-4 text-sm",children:e.competition}),(0,t.jsxs)("td",{className:"p-4 text-sm",children:[(0,t.jsx)("div",{children:e.match_date}),(0,t.jsx)("div",{className:"text-gray-400",children:e.match_time})]}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:"badge ".concat("live"===e.status?"badge-live":"upcoming"===e.status?"badge-upcoming":"badge-ended"),children:e.status.toUpperCase()})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i(),{href:"/player/".concat(e.id),target:"_blank",className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 rounded text-sm",children:"View"}),(0,t.jsx)("button",{onClick:()=>{h(e),m(!0)},className:"px-3 py-1 bg-yellow-500 hover:bg-yellow-600 rounded text-sm",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>g(e.id),className:"px-3 py-1 bg-red-500 hover:bg-red-600 rounded text-sm",children:"Delete"})]})})]},e.id))})]})})]}),d&&(0,t.jsx)(p,{match:o,onClose:e=>{m(!1),h(null),e&&u()}})]})}d&&m&&(o=(0,c.UU)(d,m))}},e=>{e.O(0,[619,376,602,441,255,358],()=>e(e.s=1370)),_N_E=e.O()}]);